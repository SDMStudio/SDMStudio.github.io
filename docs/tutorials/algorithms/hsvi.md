# HSVI


| Problème                   | Etat | Action |
| -------------------------- | ---- | ------ |
| *MDP*                      | 0.8  |        |
| *POMDP*                    | 0.5  |        |
| *MMDP*                     | 0.8  |        |
| *MPOMDP*                   | 0.8  |        |
| *Dec-POMDP*                | 0.8  |        |
| *Extensive-Form Dec-POMDP* | 0.8  |        |
| *ZS-SG*                    | 0.8  |        |


# Tests

## Un choix d'hyperparamètres pour avoir l'optimalité


| Problem | Horizon | PRECISION_BELIEF | PRECISION_OCCUPANCY | COMPRESS_PRECISION |
| ------- | ------- | ---------------- | ------------------- | ------------------ |
| mabc    | *       | 0.01             | 0.001               | O.1                |
| tiger   | 3       | 0.01             | 0.001               | O.1                |

## Variation en fonction de la précision de compression

**Parameters :**

- STOCKAGE_OCCUPANCY_STATES = True 
- STOCKAGE_DECISION_RULES = True 
- BORNE_INF = Tabulaire / Exhaustive
- BORNE_SUP = Tabulaire / Exhaustive
- BELIEF_PRECISION = 0.01;
- OCCUPANCY_STATE_PRECISION = 0.1


### mabc (h=100, m=1)

| Compress Precision | Num Trials | Error       | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | ----------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 13,4946 |
| 0,8                | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 14,5666 |
| 0,5                | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 15,9397 |
| 0,3                | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 17,0605 |
| 0,2                | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 17,2069 |
| 0,1                | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 17,1994 |
| 0,05               | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 18,7359 |
| 0,02               | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 17,605  |
| 0,01               | 2866       | 0,000312363 | 90,6623  | 90,6626  | 3802    | 4222    | 49                   | 1             | 17,0469 |


### tiger (h=3, m=3)

| Compress Precision | Num Trials | Error | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time     |
| ------------------ | ---------- | ----- | -------- | -------- | ------- | ------- | -------------------- | ------------- | -------- |
| 0,8                | 3          | 0     | 15,9322  | 15,9322  | 5       | 5       | 7                    | 1             | 0,0277   |
| 0,5                | 5          | 0     | -4,46683 | -4,46683 | 8       | 8       | 23                   | 4             | 0,384563 |
| 0,3                | 8          | 0     | 5,19081  | 5,19081  | 10      | 11      | 67                   | 12            | 2,24968  |
| 0,2                | 5          | 0     | 5,19081  | 5,19081  | 7       | 8       | 65                   | 25            | 2,97977  |
| 0,1                | 7          | 0     | 5,19081  | 5,19081  | 9       | 11      | 127                  | 42            | 9,79318  |
| 0,05               | 7          | 0     | 5,19081  | 5,19081  | 9       | 11      | 83                   | 42            | 12,3159  |
| 0,02               | 7          | 0     | 5,19081  | 5,19081  | 9       | 11      | 68                   | 42            | 13,2845  |
| 0,01               | 7          | 0     | 5,19081  | 5,19081  | 9       | 11      | 68                   | 42            | 12,1883  |

### tiger (h=4, m=3)

| Compress Precision | Num Trials | Error  | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time     |
| ------------------ | ---------- | ------ | -------- | -------- | ------- | ------- | -------------------- | ------------- | -------- |
| 0,8                | 3          | 0      | 31,7718  | 31,7718  | 7       | 7       | 7                    | 1             | 0,080937 |
| 0,5                | 9          | 0      | 9,89814  | 9,89814  | 16      | 23      | 32                   | 9             | 1,97109  |
| 0,2                | 30         | 0      | 8,82848  | 8,82848  | 36      | 66      | 299                  | 36            | 472,888  |
| 0,1                | Memory     | Memory | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory   |

### alignment (h=4, m=3)

| Compress Precision | Num Trials | Error       | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | ----------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 18         | 3,55271E-15 | 21,25    | 21,25    | 24      | 235     | 343                  | 5             | 4,64992 |
| 0,5                | 18         | 3,55271E-15 | 21,25    | 21,25    | 24      | 235     | 343                  | 5             | 3,24932 |
| 0,3                | 18         | 3,55271E-15 | 21,25    | 21,25    | 24      | 235     | 345                  | 5             | 3,07319 |
| 0,2                | 18         | 3,55271E-15 | 21,25    | 21,25    | 24      | 235     | 347                  | 5             | 3,30735 |
| 0,1                | 32         | 7,10543E-15 | 30,7187  | 30,7188  | 43      | 435     | 793                  | 7             | 8,83943 |


### GridSmall (h=3, m=3)

| Compress Precision | Num Trials | Error | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time     |
| ------------------ | ---------- | ----- | -------- | -------- | ------- | ------- | -------------------- | ------------- | -------- |
| 0,8                | 1          | 0     | 1,41152  | 1,41152  | 3       | 21      | 30                   | 2             | 0,237512 |
| 0,5                | 1          | 0     | 1,08444  | 1,08444  | 3       | 39      | 53                   | 6             | 0,361443 |
| 0,3                | 2          | 0     | 0,981111 | 0,981111 | 5       | 145     | 204                  | 12            | 19,5487  |
| 0,2                | 2          | 0     | 0,94     | 0,94     | 4       | 205     | 261                  | 16            | 4,45301  |
| 0,1                | 2          | 0     | 0,91     | 0,91     | 4       | 211     | 331                  | 30            | 24,3367  |

### GridSmall (h=4, m=3)

| Compress Precision | Num Trials | Error       | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | ----------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,5                | 4          | 2,05902E-05 | 1,75831  | 1,75833  | 7       | 69      | 71                   | 6             | 1,14222 |
| 0,3                | 5          | 0           | 1,60859  | 1,60859  | 10      | 253     | 277                  | 16            | 47,214  |
| 0,2                | 13         | 0           | 1,55666  | 1,55666  | 18      | 694     | 804                  | 20            | 324,032 |
| 0,1                | Memory     | Memory      | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory  |

### GridSmall (h=6, m=3)

| Compress Precision | Num Trials | Error  | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time   |
| ------------------ | ---------- | ------ | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------ |
| 0,8                | Memory     | Memory | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory |
| 0,5                | Memory     | Memory | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory |
| 0,3                | Memory     | Memory | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory |
| 0,2                | Memory     | Memory | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory |


### BoxPushing (h=3, m=3)

| Compress Precision | Num Trials | Error  | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time   |
| ------------------ | ---------- | ------ | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------ |
| 0,8                | Memory     | Memory | Memory   | Memory   | Memory  | Memory  | Memory               | Memory        | Memory |



**Parameters :**

- STOCKAGE_OCCUPANCY_STATES = True 
- STOCKAGE_DECISION_RULES = True 
- BORNE_INF = MaxPlan / Exhaustive
- BORNE_SUP = Sawtooth / Exhaustive

### alignment (h=4, m=3)


| Belief Precision | Occupancy Precision | Compress Precision | Num Trials | Error   | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ---------------- | ------------------- | ------------------ | ---------- | ------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,1                 | 0,8                | 23         | 0       | 21,25    | 21,25    | 55      | 40      | 639                  | 5             | 14,9739 |
| 0,01             | 0,1                 | 0,5                | 23         | 0       | 21,25    | 21,25    | 55      | 40      | 642                  | 5             | 14,0392 |
| 0,01             | 0,1                 | 0,3                | 23         | 0       | 21,25    | 21,25    | 55      | 40      | 644                  | 5             | 15,6661 |
| 0,01             | 0,1                 | 0,2                | 23         | 0       | 21,25    | 21,25    | 55      | 40      | 659                  | 5             | 15,5554 |
| 0,01             | 0,1                 | 0,1                | 41         | 0       | 21,25    | 21,25    | 84      | 63      | 2200                 | 7             | 32,6302 |
| 0,01             | 0,1                 | 0,05               | 41         | 0       | 21,25    | 21,25    | 84      | 63      | 2336                 | 7             | 31,3864 |
| 0,01             | 0,1                 | 0,02               | 43         | 0       | 21,25    | 21,25    | 87      | 69      | 2598                 | 7             | 38,7079 |
| 0,01             | 0,1                 | 0,01               | 47         | 0       | 21,25    | 21,25    | 91      | 73      | 2651                 | 7             | 38,2383 |
| ---------------- | ------------------- | ------------------ | ---------- | ------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,01                | 0,8                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 55                   | 3             | 134,459 |
| 0,01             | 0,01                | 0,5                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 60                   | 3             | 137,091 |
| 0,01             | 0,01                | 0,3                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 60                   | 3             | 134,901 |
| 0,01             | 0,01                | 0,2                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 60                   | 3             | 138,323 |
| 0,01             | 0,01                | 0,1                | 81         | 0       | 21,25    | 21,25    | 144     | 113     | 5400                 | 7             | 81,7427 |
| 0,01             | 0,01                | 0,05               | 81         | 0       | 21,25    | 21,25    | 144     | 113     | 5474                 | 7             | 79,2866 |
| 0,01             | 0,01                | 0,02               | 84         | 0       | 21,25    | 21,25    | 148     | 116     | 5753                 | 7             | 84,3647 |
| 0,01             | 0,01                | 0,01               | 88         | 0       | 21,25    | 21,25    | 151     | 120     | 5885                 | 7             | 92,4004 |
| ---------------- | ------------------- | ------------------ | ---------- | ------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,1              | 0,01                | 0,8                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 55                   | 3             | 129,554 |
| 0,1              | 0,01                | 0,5                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 60                   | 3             | 127,666 |
| 0,1              | 0,01                | 0,3                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 60                   | 3             | 127,831 |
| 0,1              | 0,01                | 0,2                | 10001      | 100,625 | -3,625   | 97       | 14      | 8       | 60                   | 3             | 127,049 |
| 0,1              | 0,01                | 0,1                | 81         | 0       | 21,25    | 21,25    | 144     | 113     | 5400                 | 7             | 74,313  |
| 0,1              | 0,01                | 0,05               | 81         | 0       | 21,25    | 21,25    | 144     | 113     | 5474                 | 7             | 71,7145 |
| 0,1              | 0,01                | 0,02               | 84         | 0       | 21,25    | 21,25    | 148     | 116     | 5753                 | 7             | 80,3191 |
| 0,1              | 0,01                | 0,01               | 88         | 0       | 21,25    | 21,25    | 151     | 120     | 5885                 | 7             | 83,4898 |


### mabc (h=100, m=1)

| Belief Precision | Occupancy Precision | Compress Precision | Num Trials | Error      | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ---------------- | ------------------- | ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,1                 | 0,8                | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,9091 |
| 0,01             | 0,1                 | 0,5                | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,8942 |
| 0,01             | 0,1                 | 0,3                | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 11,0568 |
| 0,01             | 0,1                 | 0,2                | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,7283 |
| 0,01             | 0,1                 | 0,1                | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,289  |
| 0,01             | 0,1                 | 0,05               | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,7723 |
| 0,01             | 0,1                 | 0,02               | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,6566 |
| 0,01             | 0,1                 | 0,01               | 140        | -0,0350535 | 90,4797  | 90,4447  | 359     | 275     | 4                    | 1             | 10,7023 |
| ---------------- | ------------------- | ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,01                | 0,8                | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 195,867 |
| 0,01             | 0,01                | 0,5                | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 191,434 |
| 0,01             | 0,01                | 0,3                | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 198,381 |
| 0,01             | 0,01                | 0,2                | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 195,025 |
| 0,01             | 0,01                | 0,1                | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 196,234 |
| 0,01             | 0,01                | 0,05               | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 187,47  |
| 0,01             | 0,01                | 0,02               | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 191,339 |
| 0,01             | 0,01                | 0,01               | 10001      | 0,0086863  | 90,7548  | 90,7635  | 898     | 2528    | 49                   | 1             | 196,679 |
| ---------------- | ------------------- | ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,1              | 0,01                | 0,8                | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 71,3337 |
| 0,1              | 0,01                | 0,5                | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 72,1923 |
| 0,1              | 0,01                | 0,3                | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 70,5927 |
| 0,1              | 0,01                | 0,2                | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 72,1542 |
| 0,1              | 0,01                | 0,1                | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 67,8316 |
| 0,1              | 0,01                | 0,05               | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 70,7633 |
| 0,1              | 0,01                | 0,02               | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 68,7228 |
| 0,1              | 0,01                | 0,01               | 10001      | 0,0190586  | 90,2809  | 90,3     | 394     | 741     | 17                   | 1             | 70,3217 |


### recycling (h=10, m=1)

| Belief Precision | Occupancy Precision | Compress Precision | Num Trials | Error      | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ---------------- | ------------------- | ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,1                 | 0,8                | 10001      | 45         | 5        | 50       | 20      | 10      | 6                    | 2             | 53,0146 |
| 0,01             | 0,1                 | 0,5                | 10001      | 45         | 5        | 50       | 20      | 10      | 7                    | 4             | 62,4442 |
| 0,01             | 0,1                 | 0,3                | 20         | -0,0135327 | 31,8639  | 31,8504  | 31      | 35      | 102                  | 4             | 2,20285 |
| 0,01             | 0,1                 | 0,2                | 20         | -0,0135327 | 31,8639  | 31,8504  | 31      | 35      | 102                  | 4             | 2,02593 |
| 0,01             | 0,1                 | 0,1                | 20         | -0,0135327 | 31,8639  | 31,8504  | 31      | 35      | 102                  | 4             | 2,2514  |
| 0,01             | 0,1                 | 0,05               | 20         | -0,0135327 | 31,8639  | 31,8504  | 31      | 35      | 102                  | 4             | 2,07901 |
| 0,01             | 0,1                 | 0,02               | 20         | -0,0135327 | 31,8639  | 31,8504  | 31      | 35      | 102                  | 4             | 2,31064 |
| 0,01             | 0,1                 | 0,01               | 20         | -0,0135327 | 31,8639  | 31,8504  | 31      | 35      | 102                  | 4             | 1,97624 |
| ---------------- | ------------------- | ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,01                | 0,8                | 10001      | 45         | 5        | 50       | 10      | 10      | 6                    | 2             | 53.4042 |
| 0,01             | 0,01                | 0,5                | 10001      | 45         | 5        | 50       | 10      | 10      | 7                    | 4             | 56.7815 |
| 0,01             | 0,01                | 0,3                | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.50332 |
| 0,01             | 0,01                | 0,2                | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.54714 |
| 0,01             | 0,01                | 0,1                | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.4831  |
| 0,01             | 0,01                | 0,05               | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.50829 |
| 0,01             | 0,01                | 0,02               | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.61149 |
| 0,01             | 0,01                | 0,01               | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.58554 |
| ---------------- | ------------------- | ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,1              | 0,01                | 0,8                | 10001      | 45         | 5        | 50       | 10      | 10      | 6                    | 2             | 49.5368 |
| 0,1              | 0,01                | 0,5                | 10001      | 45         | 5        | 50       | 10      | 28      | 7                    | 4             | 55.7747 |
| 0,1              | 0,01                | 0,3                | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.44057 |
| 0,1              | 0,01                | 0,2                | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.47186 |
| 0,1              | 0,01                | 0,1                | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.46838 |
| 0,1              | 0,01                | 0,05               | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.50732 |
| 0,1              | 0,01                | 0,02               | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.41266 |
| 0,1              | 0,01                | 0,01               | 17         | -0.0245726 | 31.8639  | 31.8393  | 31      | 28      | 746                  | 4             | 1.41266 |


### tiger (h=3, m=3)

| Compress Precision | Num Trials | Error        | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | ------------ | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 10001      | 34,9322      | -19      | 15,9322  | 7       | 4       | 7                    | 1             | 38,736  |
| 0,5                | 10001      | 1,53317      | -6       | -4,46683 | 11      | 8       | 23                   | 4             | 274,758 |
| 0,3                | 9          | -1,77636E-15 | 5,19081  | 5,19081  | 12      | 11      | 88                   | 12            | 6,40171 |
| 0,2                | 7          | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 9       | 143                  | 25            | 12,2728 |
| 0,1                | 11         | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 13      | 441                  | 42            | 52,7547 |
| 0,05               | 11         | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 13      | 477                  | 42            | 51,5022 |
| 0,02               | 11         | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 13      | 699                  | 42            | 48,4657 |
| 0,01               | 11         | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 13      | 699                  | 42            | 50,5421 |


### tiger (h=4, m=3)

| Belief Precision | Occupancy Precision | Compress Precision | Num Trials | Error     | Value LB | Value UB  | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ---------------- | ------------------- | ------------------ | ---------- | --------- | -------- | --------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,1                 | 0,8                | 10001      | 52,7718   | -21      | 31,7718   | 10      | 6       | 7                    | 1             | 127,539 |
| 0,01             | 0,1                 | 0,5                | 9594       | 17,8981   | -8       | 9,89814   | 20      | 16      | 35                   | 9             | 1000,07 |
| 0,01             | 0,1                 | 0,3                | 915        | 5,63767   | 3,19081  | 8,82848   | 24      | 30      | 262                  | 20            | 1000,35 |
| ---------------- | ------------------- | ------------------ | ---------- | --------- | -------- | --------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,01             | 0,01                | 0,8                | 10001      | 52,7718   | -21      | 31,7718   | 10      | 6       | 8                    | 1             | 159,14  |
| 0,01             | 0,01                | 0,5                | 9265       | 20,909    | -10,75   | 10,159    | 21      | 19      | 59                   | 9             | 1000,1  |
| 0,01             | 0,01                | 0,3                | 929        | 5,63767   | 3,19081  | 8,82848   | 24      | 30      | 371                  | 20            | 1000,92 |
| ---------------- | ------------------- | ------------------ | ---------- | --------- | -------- | --------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,1              | 0,01                | 0,8                | 10001      | 52,7718   | -21      | 31,7718   | 10      | 6       | 7                    | 1             | 137,303 |
| 0,1              | 0,01                | 0,5                | 9132       | 11,9745   | -8       | 3,97445   | 22      | 23      | 88                   | 9             | 1000,02 |
| 0,1              | 0,01                | 0,3                | 911        | 4,19669   | 3,19081  | 7,3875    | 21      | 29      | 383                  | 16            | 1000,47 |


**Parameters :**

- STOCKAGE_OCCUPANCY_STATES = True 
- STOCKAGE_DECISION_RULES = True 
- BORNE_INF = MaxPlanLP / ?
- BORNE_SUP = SawtoothLP / ?
- BELIEF_PRECISION = 0.1;
- OCCUPANCY_STATE_PRECISION = 0.1

### alignment (h=4, m=3)

| Compress Precision | Num Trials | Error     | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | --------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 4          | -0,125    | 8,75     | 8,625    | 14      | 9       | 18                   | 2             | 1,30787 |
| 0,5                | 8          | -0,125    | 8,75     | 8,625    | 20      | 13      | 29                   | 3             | 3,31118 |
| 0,3                | 9          | -0,125    | 8,75     | 8,625    | 21      | 15      | 34                   | 4             | 3,29555 |
| 0,2                | 3          | -0,875    | -3,125   | -4       | 12      | 8       | 18                   | 2             | 0,73112 |
| 0,1                | 29         | -1,49023  | 10,5625  | 9,07227  | 62      | 49      | 109                  | 3             | 34,4229 |
| 0,05               | 63         | -0,375    | 21,625   | 21,25    | 90      | 76      | 191                  | 5             | 168,26  |
| 0,02               | 28         | -0,427734 | 9,5      | 9,07227  | 59      | 47      | 107                  | 4             | 29,1283 |
| 0,01               | 41         | -0,25     | 21,5     | 21,25    | 67      | 54      | 124                  | 4             | 81,5174 |

### mabc (h=100, m=1)

| Compress Precision | Num Trials | Error    | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | -------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 13,5839 |
| 0,5                | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 14,5781 |
| 0,3                | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 13,6815 |
| 0,2                | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 13,1699 |
| 0,1                | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 30,5646 |
| 0,05               | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 19,7357 |
| 0,02               | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 13,4461 |
| 0,01               | 7          | -0,90094 | 90,2899  | 89,389   | 298     | 214     | 4                    | 1             | 13,0356 |



### recycling (h=10, m=1)

| Compress Precision | Num Trials | Error      | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | ---------- | -------- | -------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 5          | -0,848325  | 25,9708  | 25,1225  | 38      | 29      | 7                    | 2             | 1,87583 |
| 0,5                | 5          | -0,539889  | 31,8639  | 31,324   | 34      | 21      | 13                   | 4             | 1,74841 |
| 0,3                | 5          | -0,0156118 | 31,8639  | 31,8483  | 22      | 15      | 13                   | 4             | 1,92641 |
| 0,2                | 5          | -0,0156118 | 31,8639  | 31,8483  | 22      | 15      | 13                   | 4             | 1,74298 |
| 0,1                | 5          | -0,0156118 | 31,8639  | 31,8483  | 22      | 15      | 13                   | 4             | 2,04613 |
| 0,05               | 5          | -0,0156118 | 31,8639  | 31,8483  | 22      | 15      | 13                   | 4             | 1,9431  |
| 0,02               | 5          | -0,0156118 | 31,8639  | 31,8483  | 22      | 15      | 13                   | 4             | 1,93024 |
| 0,01               | 5          | -0,0156118 | 31,8639  | 31,8483  | 22      | 15      | 13                   | 4             | 2,36531 |



### tiger (h=3, m=3)

| Compress Precision | Num Trials | Error        | Value LB | Value UB | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time     |
| ------------------ | ---------- | ------------ | -------- | -------- | ------- | ------- | -------------------- | ------------- | -------- |
| 0,8                | 4463       | 19,8859      | -19      | 0,885906 | 8       | 5       | 7                    | 1             | 1000,58  |
| 0,5                | 2234       | 0,11         | -6       | -5,89    | 8       | 7       | 12                   | 4             | 1000,04  |
| 0,3                | 8          | -2,19081     | 5,19081  | 3        | 11      | 10      | 18                   | 9             | 6,83308  |
| 0,2                | 4          | -2,19081     | 5,19081  | 3        | 8       | 6       | 10                   | 12            | 0,859801 |
| 0,1                | 11         | 0            | 5,19081  | 5,19081  | 9       | 13      | 24                   | 36            | 5,98179  |
| 0,05               | 11         | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 13      | 24                   | 36            | 5,20096  |
| 0,02               | 11         | -1,77636E-15 | 5,19081  | 5,19081  | 9       | 13      | 24                   | 36            | 4,30856  |
| 0,01               | 11         | 0            | 5,19081  | 5,19081  | 9       | 13      | 24                   | 36            | 5,15637  |

### tiger (h=4, m=3)

| Compress Precision | Num Trials | Error     | Value LB | Value UB  | Size LB | Size UB | Num Occupancy States | Num Max JHist | Time    |
| ------------------ | ---------- | --------- | -------- | --------- | ------- | ------- | -------------------- | ------------- | ------- |
| 0,8                | 5162       | 45,8859   | -34      | 11,8859   | 9       | 5       | 6                    | 1             | 1000,04 |
| 0,5                | 755        | 7,18476   | -8       | -0,815238 | 10      | 13      | 22                   | 9             | 1000,53 |
| 0,3                | 7          | -2,19081  | 3,19081  | 1         | 17      | 14      | 23                   | 9             | 3,47746 |
| 0,2                | 10         | -2,19081  | 3,19081  | 1         | 12      | 21      | 38                   | 30            | 19,3783 |
| 0,1                | 40         | -0,586922 | 3,51594  | 2,92902   | 35      | 53      | 96                   | 56            | 255,98  |

<!-- # Comparaison versions avec et sans templates

| Test                                                                                                                                                                                  | Version **Template**           | Version **No Template**   | Description |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------ | ------------------------- | ----------- |
| Generation Dec Rules (M)                                                                                                                                                              | Memory Used (increasing) >100% | Memory Used (stable) 0.5% |
| Paramètres du test : num_agent=2 , num_actions=[4,4], num_histories=[8,8] → Génération de toutes les règles de décision déterministes jointes. Soit num_total_dec_rules=4 294 967 296 | -->                            |

<!-- |Compilation Complète | 	51 s |	45 s |	Test réalisé sur la compilation d'un programme qui exécute HSVI pour MDP et donc ne compile que les fichiers  nécessaire pour cela.|
Compilation après changement "haut niveau"	42 s	3.5 s	La cassure des dépendances montre déjà son effet.
Compilation après changement "bas niveau"	46 s	38 s	
Charger Mars (T)	71 s	0.05 s	
Charger Mars (M)	Memory Used : 4 590 755 840       Soit <30%	Memory Used : 14 725 120            Soit <1%         	Pour la version sans template, les tests ont été effectués avec TabularObservationDynamicsAS, mais même avec la version TabularObservationDynamicsSAS (plus complète), on obtient un Memory Used < 10% 
Charger Mars Serialized (M)	>100%	<1%	
oHSVI Tabulaire (T)	> 2 min	30 s	Résolution de Tiger à horizon 3 sans troncature. Utilisation de la structure utilisant les belief graph.
oHSVI Tabulaire (M)	Memory Used (increasing) 
~45%	Memory Used (increasing) 
~58%	Résolution de Tiger à horizon 3 sans troncature. Utilisation de la structure utilisant les belief graph. -->


# PROFILING

**Parameters :**

- PROBLEM = Tiger, h=3 
- STOCKAGE_OCCUPANCY_STATES = True 
- STOCKAGE_DECISION_RULES = True 
- BELIEF_PRECISION = 0.01;
- OCCUPANCY_STATE_PRECISION = 0.01
- COMPRESS_PRECISION = 0.1
- LB_INIT = MIN, UB_INIT = MDP


### TABULAR & SAWTOOTH / EXHAUSTIVE

| NAME                           | TIME                    | PERCENT                 |
| ------------------------------ | ----------------------- | ----------------------- |
| TOTAL_TIME                     | 3.96201 s               | 100.00000 %             |
| ------------------------------ | ----------------------- | ----------------------- |
| HSVI::TIME_INITIALIZATION      | 0.00293 s               | 0.07400 %               |
| HSVI::TIME_IN_SELECT_ACTION    | 3.66150 s               | 92.41528 %              |
| HSVI::TIME_IN_SELECT_STATE     | 0.08857 s               | 2.23553 %               |
| HSVI::TIME_IN_UPDATE_LB        | 0.02557 s               | 0.64533 %               |
| HSVI::TIME_IN_UPDATE_UB        | 0.16753 s               | 4.22849 %               |
| ------------------------------ | ----------------------- | ----------------------- |
| OccMDP::TIME_IN_GET_ACTION     | 0.19639 s               | 4.95673 %               |
| OccMDP::TIME_IN_NEXT_STATE     | 0.24157 s               | 6.09714 %               |
| OccMDP::TIME_IN_COMPRESS       | 0.13510 s               | 3.40979 %               |
| OccMDP::TIME_IN_GET_REWARD     | 2.98747 s               | 75.40284 %              |
| ------------------------------ | ----------------------- | ----------------------- |


### MAXPLAN & SAWTOOTH / EXHAUSTIVE

| NAME                           | TIME                    | PERCENT                 |
| ------------------------------ | ----------------------- | ----------------------- |
| TOTAL_TIME                     | 173.07457 s             | 100.00000 %             |
| ------------------------------ | ----------------------- | ----------------------- |
| HSVI::TIME_INITIALIZATION      | 0.00304 s               | 0.00176 %               |
| HSVI::TIME_IN_SELECT_ACTION    | 4.10709 s               | 2.37302 %               |
| HSVI::TIME_IN_SELECT_STATE     | 0.10788 s               | 0.06233 %               |
| HSVI::TIME_IN_UPDATE_LB        | 168.62403 s             | 97.42854 %              |
| HSVI::TIME_IN_UPDATE_UB        | 0.21085 s               | 0.12183 %               |
| ------------------------------ | ----------------------- | ----------------------- |
| OccMDP::TIME_IN_GET_ACTION     | 0.21684 s               | 0.12529 %               |
| OccMDP::TIME_IN_NEXT_STATE     | 78.62268 s              | 45.42706 %              |
| OccMDP::TIME_IN_COMPRESS       | 30.56853 s              | 17.66206 %              |
| OccMDP::TIME_IN_GET_REWARD     | 3.36106 s               | 1.94197 %               |
| ------------------------------ | ----------------------- | ----------------------- |

### MAXPLAN & SAWTOOTH / LP

| NAME                           | TIME                    | PERCENT                 |
| ------------------------------ | ----------------------- | ----------------------- |
| TOTAL_TIME                     | 13.54949 s              | 100.00000 %             |
| ------------------------------ | ----------------------- | ----------------------- |
| HSVI::TIME_INITIALIZATION      | 0.00406 s               | 0.02996 %               |
| HSVI::TIME_IN_SELECT_ACTION    | 5.71125 s               | 42.15106 %              |
| HSVI::TIME_IN_SELECT_STATE     | 0.16362 s               | 1.20760 %               |
| HSVI::TIME_IN_UPDATE_LB        | 1.39889 s               | 10.32428 %              |
| HSVI::TIME_IN_UPDATE_UB        | 6.24559 s               | 46.09467 %              |
| ------------------------------ | ----------------------- | ----------------------- |
| OccMDP::TIME_IN_GET_ACTION     | 0.00000 s               | 0.00000 %               |
| OccMDP::TIME_IN_NEXT_STATE     | 0.21809 s               | 1.60954 %               |
| OccMDP::TIME_IN_COMPRESS       | 0.13124 s               | 0.96858 %               |
| OccMDP::TIME_IN_GET_REWARD     | 0.01084 s               | 0.07997 %               |
| ------------------------------ | ----------------------- | ----------------------- |


**Parameters :**

- PROBLEM = mabc, h=100 
- STOCKAGE_OCCUPANCY_STATES = True 
- STOCKAGE_DECISION_RULES = True 
- BELIEF_PRECISION = 0.01;
- OCCUPANCY_STATE_PRECISION = 0.01
- COMPRESS_PRECISION = 0.1
- LB_INIT = MIN, UB_INIT = MDP


### TABULAR & SAWTOOTH / EXHAUSTIVE

| NAME                           | TIME                    | PERCENT                 |
| ------------------------------ | ----------------------- | ----------------------- |
| TOTAL_TIME                     | 73.86029 s              | 100.00000 %             |
| ------------------------------ | ----------------------- | ----------------------- |
| HSVI::TIME_INITIALIZATION      | 0.93803 s               | 1.27000 %               |
| HSVI::TIME_IN_SELECT_ACTION    | 47.51947 s              | 64.33696 %              |
| HSVI::TIME_IN_SELECT_STATE     | 0.17276 s               | 0.23389 %               |
| HSVI::TIME_IN_UPDATE_LB        | 1.50819 s               | 2.04196 %               |
| HSVI::TIME_IN_UPDATE_UB        | 23.73140 s              | 32.13012 %              |
| ------------------------------ | ----------------------- | ----------------------- |
| OccMDP::TIME_IN_GET_ACTION     | 1.23505 s               | 1.67214 %               |
| OccMDP::TIME_IN_NEXT_STATE     | 13.12697 s              | 17.77270 %              |
| OccMDP::TIME_IN_COMPRESS       | 6.17419 s               | 8.35928 %               |
| OccMDP::TIME_IN_GET_REWARD     | 1.41560 s               | 1.91660 %               |
| ------------------------------ | ----------------------- | ----------------------- |

### MAXPLAN & SAWTOOTH / LP

| NAME                           | TIME                    | PERCENT                 |
| ------------------------------ | ----------------------- | ----------------------- |
| TOTAL_TIME                     | 1651.38171 s            | 100.00000 %             |
| ------------------------------ | ----------------------- | ----------------------- |
| HSVI::TIME_INITIALIZATION      | 0.97255 s               | 0.05889 %               |
| HSVI::TIME_IN_SELECT_ACTION    | 590.64403 s             | 35.76666 %              |
| HSVI::TIME_IN_SELECT_STATE     | 3.77463 s               | 0.22857 %               |
| HSVI::TIME_IN_UPDATE_LB        | 72.39404 s              | 4.38385 %               |
| HSVI::TIME_IN_UPDATE_UB        | 984.20183 s             | 59.59869 %              |
| ------------------------------ | ----------------------- | ----------------------- |
| OccMDP::TIME_IN_GET_ACTION     | 0.00000 s               | 0.00000 %               |
| OccMDP::TIME_IN_NEXT_STATE     | 6.87834 s               | 0.41652 %               |
| OccMDP::TIME_IN_COMPRESS       | 3.13532 s               | 0.18986 %               |
| OccMDP::TIME_IN_GET_REWARD     | 0.25612 s               | 0.01551 %               |
| ------------------------------ | ----------------------- | ----------------------- |

### Tiger 3 with `store_states=false`

| NAME                           | TIME                    | PERCENT                 |
| ------------------------------ | ----------------------- | ----------------------- |
| TOTAL_TIME                     | 21.81457 s              | 100.00000 %             |
| ------------------------------ | ----------------------- | ----------------------- |
| HSVI::TIME_INITIALIZATION      | 0.00284 s               | 0.01302 %               |
| HSVI::TIME_IN_SELECT_ACTION    | 7.24417 s               | 33.20793 %              |
| HSVI::TIME_IN_SELECT_STATE     | 0.13929 s               | 0.63852 %               |
| HSVI::TIME_IN_UPDATE_LB        | 7.18607 s               | 32.94160 %              |
| HSVI::TIME_IN_UPDATE_UB        | 7.22577 s               | 33.12361 %              |
| ------------------------------ | ----------------------- | ----------------------- |
| OccMDP::TIME_IN_GET_ACTION     | 0.00000 s               | 0.00000 %               |
| OccMDP::TIME_IN_NEXT_STATE     | 4.95182 s               | 22.69962 %              |
| OccMDP::TIME_IN_COMPRESS       | 3.08612 s               | 14.14706 %              |
| OccMDP::TIME_IN_GET_REWARD     | 10.10381 s              | 46.31682 %              |
| ------------------------------ | ----------------------- | ----------------------- |